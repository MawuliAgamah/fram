# Flood Response Scenario
# ======================
# Coastal area with rising water levels.
# Agents must evacuate to high ground before flooding spreads.

world:
  width: 150
  height: 100
  features:
    # Beach / low ground (south)
    - terrain: water
      rect: { x: 0, y: 85, w: 150, h: 15 }

    # Roads (grid pattern)
    - terrain: road
      rect: { x: 0, y: 30, w: 150, h: 3 }
    - terrain: road
      rect: { x: 0, y: 60, w: 150, h: 3 }
    - terrain: road
      rect: { x: 30, y: 0, w: 3, h: 85 }
    - terrain: road
      rect: { x: 70, y: 0, w: 3, h: 85 }
    - terrain: road
      rect: { x: 110, y: 0, w: 3, h: 85 }

    # Buildings
    - terrain: building
      rect: { x: 5, y: 35, w: 20, h: 20 }
    - terrain: building
      rect: { x: 35, y: 35, w: 30, h: 20 }
    - terrain: building
      rect: { x: 75, y: 35, w: 30, h: 20 }
    - terrain: building
      rect: { x: 5, y: 65, w: 20, h: 15 }
    - terrain: building
      rect: { x: 35, y: 65, w: 30, h: 15 }
    - terrain: building
      rect: { x: 75, y: 65, w: 30, h: 15 }

    # Grass / park areas
    - terrain: grass
      rect: { x: 115, y: 5, w: 30, h: 20 }

  exits:
    # High ground evacuation points (north)
    - rect: { x: 0, y: 0, w: 150, h: 2 }
    # Elevated shelter
    - rect: { x: 115, y: 5, w: 4, h: 4 }

agents:
  seed: 123
  groups:
    # Beachgoers (close to danger)
    - count: 40
      spawn_area: { x: 10, y: 70, w: 60, h: 10 }
      personality:
        speed_mean: 1.2
        speed_std: 0.3
        panic_low: 0.2
        panic_high: 0.5
        herding_alpha: 4.0
        herding_beta: 2.0

    # Residents
    - count: 100
      spawn_area: { x: 5, y: 35, w: 100, h: 25 }
      personality:
        speed_mean: 0.9
        speed_std: 0.2
        panic_low: 0.4
        panic_high: 0.8
        herding_alpha: 2.0
        herding_beta: 3.0

    # Elderly / slow movers
    - count: 30
      spawn_area: { x: 35, y: 50, w: 40, h: 10 }
      personality:
        speed_mean: 0.5
        speed_std: 0.1
        panic_low: 0.6
        panic_high: 0.95
        risk_alpha: 1.5
        risk_beta: 6.0

hazards:
  # Rising flood from the south
  - type: flood
    origin: { x: 75, y: 90 }
    start_tick: 0
    intensity: 1.0
    spread_rate: 0.02
    spread_radius: 50
    duration: 0

  # Secondary flood surge
  - type: flood
    origin: { x: 30, y: 85 }
    start_tick: 300
    intensity: 0.8
    spread_rate: 0.03
    spread_radius: 40
    duration: 0

simulation:
  dt: 0.1
  max_ticks: 5000
  field_update_interval: 25
